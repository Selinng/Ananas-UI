import{g as O,r as B,m,q as R,s as S,v as j,o as g,j as b,w as l,x as V,d as a,n as F,y as H,b as n,A as E,z as M,t as T,c as A,B as L,T as W,C as q,D as G,E as D,G as U,a as _,h as u}from"./index-66eb29c9.js";import{P as x,_ as J}from"./api_table-45d4483a.js";const K=["top-right","top-left","bottom-right","bottom-left"],Q={class:"an-notification__icon"},X={class:"an-notification__content"},Y={class:"an-notification__header"},Z={class:"an-notification__title"},tt={class:"an-notification__message"},ot=O({__name:"Notification",props:{title:{},message:{},icon:{},type:{},duration:{},position:{},offset:{},hideClose:{type:Boolean},id:{},visible:{},onDestroy:{type:Function},toggleVisible:{type:Function}},setup(s,{expose:i}){const o=s,r=B(null),t=B(0),f=m(()=>{var c;return(c=o.position)!=null&&c.endsWith("left")?"left":"right"}),e=m(()=>{var c;return(c=o.position)!=null&&c.startsWith("top")?"top":"bottom"}),p=m(()=>({[e.value]:C.value+"px",[f.value]:"50px"})),y=()=>{r.value&&(t.value=r.value.getBoundingClientRect().height)},v=m(()=>it(o.position,o.id)),C=m(()=>v.value+o.offset),N=m(()=>C.value+t.value);let k=0;R(()=>{o.duration!==0&&(k=window.setTimeout(()=>{o.toggleVisible(!1)},o.duration))}),S(()=>{clearTimeout(k)}),j(o.visible,c=>{c||(t.value=-o.offset)});const $=m(()=>{if(o.icon)return o.icon;switch(o.type){case"success":return"check-circle";case"warning":return"help-circle";case"info":return"information";case"error":return"close-circle";default:return""}}),I=m(()=>{switch(o.type){case"success":return"#67c23a";case"warning":return"#e6a23c";case"info":return"#909399";case"error":return"#f56c6c";default:return""}});return i({offsetBottom:N}),(c,h)=>(g(),b(W,{name:"an-fade",onEnter:y,onAfterLeave:h[1]||(h[1]=P=>c.onDestroy(c.id))},{default:l(()=>[V(a("div",{ref_key:"anNotificationRef",ref:r,class:F(["an-notification",[f.value]]),style:H([p.value])},[V(a("div",Q,[n(E,{name:$.value,color:I.value},null,8,["name","color"])],512),[[M,$.value]]),a("div",X,[a("div",Y,[a("div",Z,T(c.title),1),c.hideClose?L("",!0):(g(),A("div",{key:0,class:"an-notification__close",onClick:h[0]||(h[0]=P=>c.toggleVisible(!1))},[n(E,{name:"close"})]))]),a("div",tt,T(c.message),1)])],6),[[M,c.visible.value]])]),_:1}))}});let z=0;const et={title:"",message:"",icon:"",type:"",duration:5e3,position:"top-right",offset:30,hideClose:!1},w=new Map;K.forEach(s=>{w.set(s,q([]))});const nt=s=>({...et,...s}),it=(s,i)=>{const o=w.get(s),r=o.findIndex(t=>t.id===i);return r<=0?0:o[r-1].vm.exposed.offsetBottom.value},st=s=>{z++;const i=B(!1),o=v=>{const C=w.get(s.position);C.forEach((N,k)=>{N.id===v&&C.splice(k,1)}),D(null,f)},r={...s,id:`an-notification-${z}`,visible:i,toggleVisible:v=>{i.value=v},onDestroy:o},t=G(ot,r),f=document.createElement("div");D(t,f);const e=t.component;document.body.appendChild(f.firstElementChild);const p={vNode:t,id:`an-notification-${z}`,vm:e,close:()=>{i.value=!1}};return U(()=>i.value=!0),w.get(s.position).push(p),p},at=s=>{const i=nt(s);return st(i)},d=at,lt={__name:"basic_demo",setup(s){const i=()=>{d({message:"自动关闭",title:"基础用法"})},o=()=>{d({message:"需要手动关闭",title:"基础用法",duration:0})};return(r,t)=>{const f=_("an-button"),e=_("an-space");return g(),b(e,null,{default:l(()=>[n(f,{onClick:i,secondary:""},{default:l(()=>t[0]||(t[0]=[u("自动关闭")])),_:1}),n(f,{onClick:o,secondary:""},{default:l(()=>t[1]||(t[1]=[u("手动关闭")])),_:1})]),_:1})}}},rt={__name:"type_demo",setup(s){const i=()=>{d({message:"success",title:"success",type:"success",duration:5e3})},o=()=>{d({message:"info",title:"info",type:"info",duration:0})},r=()=>{d({message:"warning",title:"warning",type:"warning",duration:0})},t=()=>{d({message:"This is an error message",title:"error",type:"error",duration:5e3})};return(f,e)=>{const p=_("an-button"),y=_("an-space");return g(),b(y,null,{default:l(()=>[n(p,{onClick:i,type:"success"},{default:l(()=>e[0]||(e[0]=[u("success")])),_:1}),n(p,{onClick:o,type:"info"},{default:l(()=>e[1]||(e[1]=[u("info")])),_:1}),n(p,{onClick:r,type:"primary"},{default:l(()=>e[2]||(e[2]=[u("warning")])),_:1}),n(p,{onClick:t,type:"error"},{default:l(()=>e[3]||(e[3]=[u("error")])),_:1})]),_:1})}}},ct={__name:"hide_close_demo",setup(s){const i=()=>{d({message:"隐藏关闭按钮",title:"关闭按钮",hideClose:!0,duration:5e3})},o=()=>{d({message:"默认显示关闭按钮",title:"关闭按钮",duration:0})};return(r,t)=>{const f=_("an-button"),e=_("an-space");return g(),b(e,null,{default:l(()=>[n(f,{onClick:i,secondary:""},{default:l(()=>t[0]||(t[0]=[u("隐藏按钮")])),_:1}),n(f,{onClick:o,secondary:""},{default:l(()=>t[1]||(t[1]=[u("显示按钮")])),_:1})]),_:1})}}},ft={__name:"position_demo",setup(s){const i=()=>{d({message:"top-right",title:"top-right",position:"top-right"})},o=()=>{d({message:"top-left",title:"top-left",position:"top-left"})},r=()=>{d({message:"bottom-right",title:"bottom-right",position:"bottom-right"})},t=()=>{d({message:"bottom-left",title:"bottom-left",position:"bottom-left"})};return(f,e)=>{const p=_("an-button"),y=_("an-space");return g(),b(y,null,{default:l(()=>[n(p,{onClick:i,secondary:""},{default:l(()=>e[0]||(e[0]=[u("top-right")])),_:1}),n(p,{onClick:o,secondary:""},{default:l(()=>e[1]||(e[1]=[u("top-left")])),_:1}),n(p,{onClick:r,secondary:""},{default:l(()=>e[2]||(e[2]=[u("bottom-right")])),_:1}),n(p,{onClick:t,secondary:""},{default:l(()=>e[3]||(e[3]=[u("bottom-left")])),_:1})]),_:1})}}},pt={class:"markdown-body"},mt={},_t="",gt=O({__name:"index",setup(s,{expose:i}){i({frontmatter:{},excerpt:void 0});const o={columns:[{title:"名称"},{title:"类型"},{title:"默认值"},{title:"说明"}],item:[{name:"title",type:"string",default:'""',explain:"标题"},{name:"message",type:"string",default:'""',explain:"通知栏正文内容"},{name:"icon",type:"string",default:"-",explain:"自定义图标"},{name:"type",type:'success | info | warning | error | ""',default:'""',explain:"通知的类型"},{name:"duration",type:"number",default:"5000",explain:"显示时间，单位为毫秒。设为 0 则不自动关闭"},{name:"position",type:"top-left | top-right | bottom-left | bottom-right",default:"top-right",explain:"自定义弹出位置"},{name:"offset",type:"number",default:"30",explain:"间隔距离"},{name:"hideClose",type:"boolean",default:"false",explain:"是否隐藏关闭按钮"}]};return(r,t)=>(g(),A("div",pt,[t[0]||(t[0]=a("h2",null,"Notification 通知",-1)),t[1]||(t[1]=a("h5",{style:{color:"#66d476"}},"天空好想下雨，我好想住你隔壁",-1)),t[2]||(t[2]=a("h3",null,"基础用法",-1)),t[3]||(t[3]=a("p",{style:{color:"#ffcf3f","font-size":"12px","font-weight":"900"}},"基本通知",-1)),n(lt),n(x,{comp:"notification",demo:"basic_demo"}),t[4]||(t[4]=a("h3",null,"不同类型的通知",-1)),t[5]||(t[5]=a("p",{style:{color:"#ffcf3f","font-size":"12px","font-weight":"900"}},"不合适的话可以尝试换一个试试",-1)),n(rt),n(x,{comp:"notification",demo:"type_demo"}),t[6]||(t[6]=a("h3",null,"隐藏关闭按钮",-1)),t[7]||(t[7]=a("p",{style:{color:"#ffcf3f","font-size":"12px","font-weight":"900"}},"不想看见我？我走就是了呜呜呜",-1)),n(ct),n(x,{comp:"notification",demo:"hide_close_demo"}),t[8]||(t[8]=a("h3",null,"自定义弹出位置",-1)),t[9]||(t[9]=a("p",{style:{color:"#ffcf3f","font-size":"12px","font-weight":"900"}},"上上下下左左右右",-1)),n(ft),n(x,{comp:"notification",demo:"position_demo"}),t[10]||(t[10]=a("h3",null,"API 属性",-1)),t[11]||(t[11]=a("p",{style:{color:"var(--color-success)","font-size":"14px","font-weight":"900"}},"这个组件怎么可以这么丝滑",-1)),n(J,{data:o})]))}});export{gt as default,_t as excerpt,mt as frontmatter};
