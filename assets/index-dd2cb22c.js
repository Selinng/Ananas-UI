import{g as O,r as $,q as m,s as H,v as S,x as j,o as g,j as b,w as a,y as V,d as p,n as F,z as L,b as n,A as E,B as M,t as T,c as A,C as P,T as W,D as q,E as G,G as D,H as U,a as _,h as f}from"./index-73f9e1a6.js";import{p as x,_ as J}from"./api_table-1825a440.js";const K=["top-right","top-left","bottom-right","bottom-left"],Q={class:"an-notification__icon"},X={class:"an-notification__content"},Y={class:"an-notification__header"},Z={class:"an-notification__title"},tt={class:"an-notification__message"},et=O({__name:"Notification",props:{title:{},message:{},icon:{},type:{},duration:{},position:{},offset:{},hideClose:{type:Boolean},id:{},visible:{},onDestroy:{type:Function},toggleVisible:{type:Function}},setup(s,{expose:i}){const e=s,l=$(null),t=$(0),c=m(()=>{var r;return(r=e.position)!=null&&r.endsWith("left")?"left":"right"}),o=m(()=>{var r;return(r=e.position)!=null&&r.startsWith("top")?"top":"bottom"}),u=m(()=>({[o.value]:C.value+"px",[c.value]:"50px"})),y=()=>{l.value&&(t.value=l.value.getBoundingClientRect().height)},v=m(()=>it(e.position,e.id)),C=m(()=>v.value+e.offset),N=m(()=>C.value+t.value);let h=0;H(()=>{e.duration!==0&&(h=window.setTimeout(()=>{e.toggleVisible(!1)},e.duration))}),S(()=>{clearTimeout(h)}),j(e.visible,r=>{r||(t.value=-e.offset)});const z=m(()=>{if(e.icon)return e.icon;switch(e.type){case"success":return"check-circle";case"warning":return"help-circle";case"info":return"information";case"error":return"close-circle";default:return""}}),I=m(()=>{switch(e.type){case"success":return"#67c23a";case"warning":return"#e6a23c";case"info":return"#909399";case"error":return"#f56c6c";default:return""}});return i({offsetBottom:N}),(r,k)=>(g(),b(W,{name:"an-fade",onEnter:y,onAfterLeave:k[1]||(k[1]=R=>r.onDestroy(r.id))},{default:a(()=>[V(p("div",{ref_key:"anNotificationRef",ref:l,class:F(["an-notification",[c.value]]),style:L([u.value])},[V(p("div",Q,[n(E,{name:z.value,color:I.value},null,8,["name","color"])],512),[[M,z.value]]),p("div",X,[p("div",Y,[p("div",Z,T(r.title),1),r.hideClose?P("",!0):(g(),A("div",{key:0,class:"an-notification__close",onClick:k[0]||(k[0]=R=>r.toggleVisible(!1))},[n(E,{name:"close"})]))]),p("div",tt,T(r.message),1)])],6),[[M,r.visible.value]])]),_:1}))}});let B=0;const ot={title:"",message:"",icon:"",type:"",duration:5e3,position:"top-right",offset:30,hideClose:!1},w=new Map;K.forEach(s=>{w.set(s,q([]))});const nt=s=>({...ot,...s}),it=(s,i)=>{const e=w.get(s),l=e.findIndex(t=>t.id===i);return l<=0?0:e[l-1].vm.exposed.offsetBottom.value},st=s=>{B++;const i=$(!1),e=v=>{const C=w.get(s.position);C.forEach((N,h)=>{N.id===v&&C.splice(h,1)}),D(null,c)},l={...s,id:`an-notification-${B}`,visible:i,toggleVisible:v=>{i.value=v},onDestroy:e},t=G(et,l),c=document.createElement("div");D(t,c);const o=t.component;document.body.appendChild(c.firstElementChild);const u={vNode:t,id:`an-notification-${B}`,vm:o,close:()=>{i.value=!1}};return U(()=>i.value=!0),w.get(s.position).push(u),u},at=s=>{const i=nt(s);return st(i)},d=at,lt={__name:"basic_demo",setup(s){const i=()=>{d({message:"自动关闭",title:"基础用法"})},e=()=>{d({message:"需要手动关闭",title:"基础用法",duration:0})};return(l,t)=>{const c=_("an-button"),o=_("an-space");return g(),b(o,null,{default:a(()=>[n(c,{onClick:i,secondary:""},{default:a(()=>t[0]||(t[0]=[f("自动关闭")])),_:1}),n(c,{onClick:e,secondary:""},{default:a(()=>t[1]||(t[1]=[f("需要手动关闭")])),_:1})]),_:1})}}},rt={__name:"type_demo",setup(s){const i=()=>{d({message:"success",title:"success",type:"success",duration:5e3})},e=()=>{d({message:"info",title:"info",type:"info",duration:0})},l=()=>{d({message:"warning",title:"warning",type:"warning",duration:0})},t=()=>{d({message:"This is an error message",title:"error",type:"error",duration:5e3})};return(c,o)=>{const u=_("an-button"),y=_("an-space");return g(),b(y,null,{default:a(()=>[n(u,{onClick:i,type:"success"},{default:a(()=>o[0]||(o[0]=[f("success")])),_:1}),n(u,{onClick:e,type:"info"},{default:a(()=>o[1]||(o[1]=[f("info")])),_:1}),n(u,{onClick:l,type:"primary"},{default:a(()=>o[2]||(o[2]=[f("warning")])),_:1}),n(u,{onClick:t,type:"error"},{default:a(()=>o[3]||(o[3]=[f("error")])),_:1})]),_:1})}}},ct={__name:"hide_close_demo",setup(s){const i=()=>{d({message:"隐藏关闭按钮",title:"关闭按钮",type:"success",hideClose:!0,duration:5e3})},e=()=>{d({message:"默认显示关闭按钮",title:"关闭按钮",duration:0})};return(l,t)=>{const c=_("an-button"),o=_("an-space");return g(),b(o,null,{default:a(()=>[n(c,{onClick:i,secondary:""},{default:a(()=>t[0]||(t[0]=[f("隐藏关闭按钮")])),_:1}),n(c,{onClick:e,secondary:""},{default:a(()=>t[1]||(t[1]=[f("默认显示关闭按钮")])),_:1})]),_:1})}}},ut={__name:"position_demo",setup(s){const i=()=>{d({message:"top-right",title:"top-right",position:"top-right"})},e=()=>{d({message:"top-left",title:"top-left",position:"top-left"})},l=()=>{d({message:"bottom-right",title:"bottom-right",position:"bottom-right"})},t=()=>{d({message:"bottom-left",title:"bottom-left",position:"bottom-left"})};return(c,o)=>{const u=_("an-button"),y=_("an-space");return g(),b(y,null,{default:a(()=>[n(u,{onClick:i,secondary:""},{default:a(()=>o[0]||(o[0]=[f("top-right")])),_:1}),n(u,{onClick:e,secondary:""},{default:a(()=>o[1]||(o[1]=[f("top-left")])),_:1}),n(u,{onClick:l,secondary:""},{default:a(()=>o[2]||(o[2]=[f("bottom-right")])),_:1}),n(u,{onClick:t,secondary:""},{default:a(()=>o[3]||(o[3]=[f("bottom-left")])),_:1})]),_:1})}}},pt={class:"markdown-body"},mt={},_t="",gt=O({__name:"index",setup(s,{expose:i}){i({frontmatter:{},excerpt:void 0});const e={columns:[{title:"名称"},{title:"类型"},{title:"默认值"},{title:"说明"}],item:[{name:"title",type:"string",default:'""',explain:"标题"},{name:"message",type:"string",default:'""',explain:"通知栏正文内容"},{name:"icon",type:"string",default:"-",explain:"自定义图标"},{name:"type",type:'success | info | warning | error | ""',default:'""',explain:"通知的类型"},{name:"duration",type:"number",default:"5000",explain:"显示时间，单位为毫秒。设为 0 则不自动关闭"},{name:"position",type:"top-left | top-right | bottom-left | bottom-right",default:"top-right",explain:"自定义弹出位置"},{name:"offset",type:"number",default:"30",explain:"间隔距离"},{name:"hideClose",type:"boolean",default:"false",explain:"是否隐藏关闭按钮"}]};return(l,t)=>(g(),A("div",pt,[t[0]||(t[0]=p("h3",null,"基础用法",-1)),t[1]||(t[1]=p("p",{style:{color:"#ffcf3f","font-size":"12px","font-weight":"900"}},"基本用法",-1)),n(lt),n(x,{comp:"notification",demo:"basic_demo"}),t[2]||(t[2]=p("h3",null,"自定义消息弹出的位置",-1)),n(ut),n(x,{comp:"notification",demo:"position_demo"}),t[3]||(t[3]=p("h3",null,"不同类型的通知",-1)),n(rt),n(x,{comp:"notification",demo:"type_demo"}),t[4]||(t[4]=p("h3",null,"隐藏关闭按钮",-1)),n(ct),n(x,{comp:"notification",demo:"hide_close_demo"}),t[5]||(t[5]=p("h3",null,"API 属性",-1)),t[6]||(t[6]=p("p",{style:{color:"#ffcf3f","font-size":"12px","font-weight":"900"}},"关于怎么控制按钮，看看这",-1)),n(J,{data:e})]))}});export{gt as default,_t as excerpt,mt as frontmatter};
